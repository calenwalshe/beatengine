{
  "mode": "m4",
  "bpm": 132,
  "ppq": 1920,
  "bars": 64,
  "seed": 1234,
  "out": "out/examples/m4_showcase.mid",
  "log_path": "out/examples/m4_showcase.csv",
  "guard": {"min_E": 0.7, "max_rot_rate": 0.12, "kick_immutable": false},
  "targets": {
    "S_low": 0.35,
    "S_high": 0.55,
    "H_low": 0.35,
    "H_high": 0.6,
    "hat_density_target": 0.7,
    "hat_density_tol": 0.05
  },
  "layers": {
    "kick": {
      "rotation_rate_per_bar": 0.05,
      "ghost_pre1_prob": 0.25,
      "displace_into_2_prob": 0.15
    },
    "hat_c": {
      "steps": 16,
      "fills": 12,
      "swing_percent": 0.55,
      "beat_bins_ms": [-10, -6, -2, 0],
      "beat_bins_probs": [0.4, 0.35, 0.2, 0.05],
      "beat_bin_cap_ms": 12,
      "conditions": [
        {"kind": "EVERY_N", "n": 4, "offset": 2},
        {"kind": "PROB", "p": 0.9}
      ]
    },
    "hat_o": {
      "steps": 16,
      "fills": 16,
      "offbeats_only": true,
      "ratchet_prob": 0.08,
      "beat_bins_ms": [-2, 0, 2],
      "beat_bins_probs": [0.2, 0.6, 0.2],
      "beat_bin_cap_ms": 10,
      "choke_with_note": 42
    }
  },
  "modulators": [
    {
      "name": "hat_swing",
      "param_path": "hat_c.swing_percent",
      "mod": {
        "mode": "ou",
        "min_val": 0.52,
        "max_val": 0.58,
        "step_per_bar": 0.008,
        "tau": 24,
        "max_delta_per_bar": 0.01
      }
    },
    {
      "name": "thin_bias",
      "param_path": "thin_bias",
      "mod": {
        "mode": "ou",
        "min_val": -0.5,
        "max_val": -0.15,
        "step_per_bar": 0.02,
        "tau": 32,
        "max_delta_per_bar": 0.03
      }
    }
  ],
  "accent": {"steps": [1, 5, 9, 13], "prob": 0.2, "velocity_scale": 1.15, "length_scale": 1.0}
}
